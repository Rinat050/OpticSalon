@page "/clientProfile"

@using Microsoft.AspNetCore.Identity
@using OpticSalon.Auth.Managers
@using OpticSalon.Auth.Models
@using OpticSalon.Blazor.Data.Credentials
@using OpticSalon.Blazor.Middleware
@using OpticSalon.Domain.Models

@inject OpticSalonSignInManager SignInManager
@inject UserManager<OpticSalonUser> UserManager
@inject ISnackbar Snackbar
@inject NavigationManager NavManager

<PageTitle>Профиль</PageTitle>

<MudContainer Class="d-flex align-center justify-center mud-width-full" >
    <MudCard Class="p-2 w-100" Style="border-radius: 20px;"
             Outlined="false" Elevation="0">
        <MudCardHeader>
            <MudGrid Class="m-2">
                <MudAvatar Style="width: 100px; height:100px;" Class="m-1" Color="MudBlazor.Color.Primary"><MudText Class="m-5" Typo="Typo.h4">РС</MudText></MudAvatar>
                <MudStack Class="ms-4" Justify="Justify.Center">
                    <MudText Color="MudBlazor.Color.Secondary" Typo="Typo.h5" Class="m-0 p-0">Ринат Сафиуллин</MudText>
                    <MudText Color="MudBlazor.Color.Secondary" Typo="Typo.h6" Class="m-0 p-0">rinat.safiullin.05@bk.ru</MudText>
                </MudStack>
            </MudGrid>
        </MudCardHeader>
        <MudCardContent>
            <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
                <MudTabPanel Text="Аккаунт">
                    <ClientProfileDataComponent></ClientProfileDataComponent>
                </MudTabPanel>
                <MudTabPanel Text="Личные данные">
                    <ClientProfileDataComponent></ClientProfileDataComponent>
                </MudTabPanel>
                <MudTabPanel Text="Предпочтения">
                    <ProfileClientPreferencesComponent ClientId="1" ClientPreferences="_clientPreferences"></ProfileClientPreferencesComponent>
                </MudTabPanel>
                <MudTabPanel Text="Заказы">
                    <ClientProfileDataComponent></ClientProfileDataComponent>
                </MudTabPanel>
            </MudTabs>
        </MudCardContent>
    </MudCard>
</MudContainer>

@code {
    private ClientPreferences _clientPreferences = null!;


}
@using OpticSalon.Domain.Models

@inject NavigationManager NavManager


@if (Orders.Count() == 0)
{
    <MudAlert Class="m-2" Severity="Severity.Normal">Заказов пока нет...</MudAlert>
    return;
}

<MudTable  T="OrderShort" Items="@Orders">
    <HeaderContent>
        <MudTh>Номер заказа</MudTh>
        <MudTh>Дата создания</MudTh>
        <MudTh>Адрес доставки</MudTh>
        <MudTh>Номер телефона</MudTh>
        <MudTh>Просмотр</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Номер заказа">@context.Id</MudTd>
        <MudTd DataLabel="Дата создания">@context.CreatedDate</MudTd>
        <MudTd DataLabel="Адрес доставки">@context.DeliveryAddress</MudTd>
        <MudTd DataLabel="Номер телефона">@context.ContactPhoneNumber</MudTd>
        <MudTd DataLabel="Просмотр"><MudIconButton Icon="@Icons.Material.Filled.ArrowRight" OnClick="@(() => ShowOrder(context.Id))"></MudIconButton></MudTd>
    </RowTemplate>
</MudTable>


@code {
    [Parameter]
    public List<OrderShort> Orders { get; set; } = new();

    private void ShowOrder(int id)
    {
        NavManager.NavigateTo($"/showOrder/{id}");
    }
}
